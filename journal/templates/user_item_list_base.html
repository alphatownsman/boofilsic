{% load static %}
{% load i18n %}
{% load l10n %}
{% load admin_url %}
{% load mastodon %}
{% load oauth_token %}
{% load truncate %}
{% load thumb %}
<!DOCTYPE html>
<html lang="zh" class="classic-page">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}<title>{{ site_name }} - {{ user.mastodon_username }}</title>{% endblock %}
    {% include "common_libs.html" with jquery=0 v2=1 %}
  </head>
  <body>
    {% include "_header.html" %}
    <main>
      <div class="grid__main">
        <h5>
          {% block head %}{{ user.mastodon_username }}{% endblock %}
        </h5>
        <div>
          {% for member in members %}
            {% with "list_item_"|add:member.item.class_name|add:".html" as template %}
              {% include template with item=member.item mark=member.mark hide_category=True %}
            {% endwith %}
          {% empty %}
            <div>{% trans '无结果' %}</div>
          {% endfor %}
        </div>
        <div class="pagination">
          {% if members.pagination.has_prev %}
            <a href="?{% if request.GET.t %}t={{ request.GET.t }}&{% endif %}page=1"
               class="pagination__nav-link pagination__nav-link">&laquo;</a>
            <a href="?{% if request.GET.t %}t={{ request.GET.t }}&{% endif %}page={{ members.previous_page_number }}"
               class="pagination__nav-link pagination__nav-link--right-margin pagination__nav-link">&lsaquo;</a>
          {% endif %}
          {% for page in members.pagination.page_range %}
            {% if page == members.pagination.current_page %}
              <a href="?{% if request.GET.t %}t={{ request.GET.t }}&{% endif %}page={{ page }}"
                 class="pagination__page-link pagination__page-link--current">{{ page }}</a>
            {% else %}
              <a href="?{% if request.GET.t %}t={{ request.GET.t }}&{% endif %}page={{ page }}"
                 class="pagination__page-link">{{ page }}</a>
            {% endif %}
          {% endfor %}
          {% if members.pagination.has_next %}
            <a href="?{% if request.GET.t %}t={{ request.GET.t }}&{% endif %}page={{ members.next_page_number }}"
               class="pagination__nav-link pagination__nav-link--left-margin">&rsaquo;</a>
            <a href="?{% if request.GET.t %}t={{ request.GET.t }}&{% endif %}page={{ members.pagination.last_page }}"
               class="pagination__nav-link">&raquo;</a>
          {% endif %}
        </div>
      </div>
      {% include "_sidebar.html" with show_profile=1 %}
    </main>
    {% include "partial/_footer.html" %}
  </body>
</html>

{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create/Update Announcement</title>
    {% include "common_libs.html" with jquery=0 v2=1 %}
  </head>
  <body>
    <div class="container">
      <h1>Create/Update Announcement</h1>
      <article>
        <form method="post">
          {% csrf_token %}
          {{ form.as_p }}
          <input type="submit" value="Save">
        </form>
        {{ form.media }}
      </article>
    </div>
    <script>
        function convertToSlug(text) {
            // return encodeURI(text.toLowerCase().replace(/ +/g, '-'));
            return text.toLowerCase().replace(/[ ;\.\:\?\!@#\$%\^&\*\(\)\=\+\<\>`~·，。“”？！《》【】：；\\{}\[\]]+/g, '-');
        }
        document.getElementById("id_title").addEventListener('input', function (evt) {
            document.getElementById("id_slug").value = convertToSlug(this.value);
        });
    </script>
  </body>
</html>
